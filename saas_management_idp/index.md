# Saas管理機能付きIdaas
企業が導入しているSaasの利用コスト、利用頻度などを可視化し管理する事が可能なIdaas

## 概要
0->1フェーズに参画し、開発環境の整備やサービス全体のシステムアーキテクチャ設計など技術戦略の方針決めを行い、参画時にあったプロトタイプを本番環境で運用できる状態への移行を行いました。
サービス開発はシステムアーキテクチャの設計から品質担保やオペレーションまで、開発領域はインフラ設計/構築からフロントエンド開発までフルスタックエンジニアとして自ら手を動かしながら、デザイナーやPOと協業しUI/UX設計も行いました。
合わせて、事業責任者含めて事業計画に合わせ将来を見据えた技術的負債と機能開発、運用コストなど技術戦略のコントロールに努めました。

* 開発環境整備
* 秘匿情報の管理やDB、アプリケーションの設定
* password/OTP認証機能の設計・開発
* 階層構造など複雑な機能を含むテーブル設計
* サービス運用に向けた監視、運用設計
* サーバーレスアーキテクチャーを採用したwebスクレイピング基盤の設計・開発
* chrome extensionの開発

## サービスについて

## アーキテクチャ
モノリスrailsを中心にwebスクレイピング基盤などを特殊な機能はマイクロサービスとして切り離した[Citadel Architecture](https://blog.appsignal.com/2020/04/08/the-citadel-architecture-at-appsignal.html)構成です。

* railsアプリケーション
  * システム管理画面
  * webAPI
* フロントエンドアプリケーション
* webスクレイピング基盤
* chrome extension

システムの複雑性やUX向上のために、railsアプリケーションにはレイヤードアーキテクチャを採用したり、フロントエンドのreactリプレイスなどを行っています。

技術スタックの詳細は[こちら](technology_stack.md)

## 期間毎の実績
### - サービスローンチ
役割: フルスタックエンジニア・システム面全般でのリード

* [開発環境整備](achievements/setup_development_enviroments.md)

#### QA
* rspec動作環境の整備
  * Simplecov導入
* saml連携部分のテストコード追加
  * coverage 0 -> 100

#### 技術戦略
* フロントエンドの実装ガイドラインと方針定義
  * SPAへのリプレイスの判断と計画
* リリースフロー/開発フロー定義
* アプリケーションアーキテクチャのTobe定義
* テストコードでのQA方針定義
  * 参画時にテストコードカバレッジが20%程度かつ、テストコードの内容もテストできているとは言えないものが多く、ほとんどテストがない状態だったため、テストコードの方針と戦略を策定

#### アーキテクチャ
* ユーザ情報テーブルの再設計
* OTPを使った2FA機能の実装
* RDBでの階層構造のテーブル設計
* 外部API利用する機能のアーキテクチャ
* サーバーレスアーキテクチャーを採用したwebスクレイピング基盤
* [フロントエンド技術スタックの選定と開発環境基盤構築](achievements/frontend_modern_strategy.md)

#### セキュリティ
* 秘匿情報の整理と管理方法の選定
* DBカラム暗号化

#### 運用、監視
* ログ収集、検索基盤
  * 監査ログ
  * アプリケーションログ
* 監視

### サービスローンチ -
役割: フルスタックエンジニア・システム面全般でのリード

#### 開発方針
* 切り出したマイクロサービス間でAPI通信が発生するためOpenApi3.0の採用
  * railsアプリでは'committee', 'committee-rails'でAPI定義と実装の整合性を担保

#### アプリケーション開発
* formbase認証を実現するchrome extensionの設計/構築
* フロントエンドをReactへリプレイス
  * 技術選定/開発基盤の構築/コンポーネント設計/知見共有
  * UIデザイナーがデザインモックを描き、各エンジニアがそれを実装する開発方法でしたが、フロントエンドリプレイスのタイミングでデザインのコンポーネント/システム化、部分的にはリデザインをUIデザイナーと協業して行いました。
    * モーダルダイアログは重要な変更を行うときに使用する。
    * ボタンの色はOOのケースはOOを使うなどのガイドライン策定
    * inputは選択肢の数によってスイッチ/トグル/プルダウンを使い分けるガイドライン
  * Railsエンジニアで構成されたチームだったので勉強会を行いCSS/React/TS/コンポーネント設計/ステート管理とデータフロー/アーキテクチャ/デザインシステムなどフロントエンド全般の共有を行いました。
  * バックエンドのAPI接続部分はopenapi generateでの自動生成を活用しました。
* schema駆動開発
  * OpenAPI 3.0を使いschema駆動開発行いました。バックエンドのAPIはcommitteeを使用してIFの担保とフロントエンドはAPI呼び出しとDTOをopenapi generateで自動生成することで開発生産性を向上しました。
* [ネイティブアプリ開発](achievements/native_app.md)
